import unittest

import ../mvds/Message

suite "Go":
  test "Message ID":
    check:
      newMessage(
        @[byte(111), 63, 189, 132, 147, 81, 138, 77, 120, 218, 173, 112, 213, 228, 243, 62, 38, 197, 150, 227, 157, 161, 224, 1, 102, 16, 14, 32, 144, 229, 215, 136],
        @[byte(102), 99, 56, 101, 100, 54, 97, 57, 53, 100, 51, 100, 57, 97, 49, 101, 56, 98, 97, 54, 51, 52, 54, 98, 98, 48, 97, 100, 99, 48, 102, 49, 54, 53, 56, 55, 48, 55, 53, 56, 101, 56, 100, 56, 50, 52, 55, 57, 54, 51, 99, 57, 56, 102, 53, 51, 56, 56, 98, 102, 54, 101, 50, 56, 55, 97, 53, 51, 52, 99, 53, 100, 48, 99, 52, 99, 50, 100, 54, 102, 98, 56, 48, 100, 49, 57, 99, 52, 57, 57, 57, 100, 52, 100, 52, 97, 56, 102, 49, 100, 55, 100, 52, 102, 53, 53, 102, 53, 97, 97, 99, 57, 48, 99, 100, 54, 54, 54, 48, 56, 56, 50, 51, 51, 98, 100, 48, 101, 49, 52, 32, 116, 101, 115, 116, 105, 110, 103],
        1594801790'i64
      ).id == @[byte(13), 112, 200, 211, 58, 2, 175, 152, 143, 106, 62, 39, 59, 27, 208, 40, 203, 81, 233, 22, 153, 212, 237, 5, 244, 89, 228, 145, 130, 154, 72, 99]

      newMessage(
        @[byte(111), 63, 189, 132, 147, 81, 138, 77, 120, 218, 173, 112, 213, 228, 243, 62, 38, 197, 150, 227, 157, 161, 224, 1, 102, 16, 14, 32, 144, 229, 215, 136],
        @[byte(102), 99, 56, 101, 100, 54, 97, 57, 53, 100, 51, 100, 57, 97, 49, 101, 56, 98, 97, 54, 51, 52, 54, 98, 98, 48, 97, 100, 99, 48, 102, 49, 54, 53, 56, 55, 48, 55, 53, 56, 101, 56, 100, 56, 50, 52, 55, 57, 54, 51, 99, 57, 56, 102, 53, 51, 56, 56, 98, 102, 54, 101, 50, 56, 55, 97, 53, 51, 52, 99, 53, 100, 48, 99, 52, 99, 50, 100, 54, 102, 98, 56, 48, 100, 49, 57, 99, 52, 57, 57, 57, 100, 52, 100, 52, 97, 56, 102, 49, 100, 55, 100, 52, 102, 53, 53, 102, 53, 97, 97, 99, 57, 48, 99, 100, 54, 54, 54, 48, 56, 56, 50, 51, 51, 98, 100, 48, 101, 49, 52, 32, 116, 101, 115, 116, 105, 110, 103],
        1594801785'i64
      ).id == @[byte(84), 45, 240, 38, 254, 43, 240, 23, 244, 152, 191, 136, 204, 7, 179, 109, 95, 96, 45, 0, 220, 124, 201, 13, 48, 232, 64, 4, 116, 124, 149, 229]

      newMessage(
        @[byte(111), 63, 189, 132, 147, 81, 138, 77, 120, 218, 173, 112, 213, 228, 243, 62, 38, 197, 150, 227, 157, 161, 224, 1, 102, 16, 14, 32, 144, 229, 215, 136],
        @[byte(102), 99, 56, 101, 100, 54, 97, 57, 53, 100, 51, 100, 57, 97, 49, 101, 56, 98, 97, 54, 51, 52, 54, 98, 98, 48, 97, 100, 99, 48, 102, 49, 54, 53, 56, 55, 48, 55, 53, 56, 101, 56, 100, 56, 50, 52, 55, 57, 54, 51, 99, 57, 56, 102, 53, 51, 56, 56, 98, 102, 54, 101, 50, 56, 55, 97, 53, 51, 52, 99, 53, 100, 48, 99, 52, 99, 50, 100, 54, 102, 98, 56, 48, 100, 49, 57, 99, 52, 57, 57, 57, 100, 52, 100, 52, 97, 56, 102, 49, 100, 55, 100, 52, 102, 53, 53, 102, 53, 97, 97, 99, 57, 48, 99, 100, 54, 54, 54, 48, 56, 56, 50, 51, 51, 98, 100, 48, 101, 49, 52, 32, 116, 101, 115, 116, 105, 110, 103],
        1594801780'i64
      ).id == @[byte(97), 58, 211, 119, 188, 176, 81, 253, 19, 44, 110, 207, 81, 123, 190, 44, 129, 246, 234, 76, 188, 196, 253, 66, 146, 175, 70, 82, 232, 83, 163, 145]

      newMessage(
        @[byte(111), 63, 189, 132, 147, 81, 138, 77, 120, 218, 173, 112, 213, 228, 243, 62, 38, 197, 150, 227, 157, 161, 224, 1, 102, 16, 14, 32, 144, 229, 215, 136],
        @[byte(102), 99, 56, 101, 100, 54, 97, 57, 53, 100, 51, 100, 57, 97, 49, 101, 56, 98, 97, 54, 51, 52, 54, 98, 98, 48, 97, 100, 99, 48, 102, 49, 54, 53, 56, 55, 48, 55, 53, 56, 101, 56, 100, 56, 50, 52, 55, 57, 54, 51, 99, 57, 56, 102, 53, 51, 56, 56, 98, 102, 54, 101, 50, 56, 55, 97, 53, 51, 52, 99, 53, 100, 48, 99, 52, 99, 50, 100, 54, 102, 98, 56, 48, 100, 49, 57, 99, 52, 57, 57, 57, 100, 52, 100, 52, 97, 56, 102, 49, 100, 55, 100, 52, 102, 53, 53, 102, 53, 97, 97, 99, 57, 48, 99, 100, 54, 54, 54, 48, 56, 56, 50, 51, 51, 98, 100, 48, 101, 49, 52, 32, 116, 101, 115, 116, 105, 110, 103],
        1594801775'i64
      ).id == @[byte(147), 199, 253, 203, 214, 7, 250, 97, 197, 81, 94, 16, 54, 101, 104, 137, 89, 72, 9, 137, 234, 255, 66, 214, 80, 137, 223, 68, 112, 4, 163, 68]

      newMessage(
        @[byte(47), 181, 73, 25, 184, 35, 240, 201, 89, 15, 137, 75, 19, 251, 161, 137, 246, 217, 12, 6, 35, 63, 189, 148, 195, 249, 86, 201, 55, 255, 11, 144],
        @[byte(49), 57, 56, 48, 55, 54, 101, 49, 48, 49, 100, 48, 51, 56, 102, 56, 52, 48, 48, 52, 51, 52, 99, 50, 55, 57, 98, 57, 53, 102, 53, 102, 102, 100, 56, 54, 53, 52, 101, 50, 48, 52, 102, 57, 102, 52, 51, 52, 54, 56, 55, 55, 102, 49, 51, 55, 52, 48, 99, 102, 54, 100, 101, 57, 50, 101, 52, 54, 101, 50, 54, 101, 51, 48, 99, 97, 100, 51, 97, 51, 52, 54, 54, 99, 98, 101, 54, 50, 49, 100, 56, 53, 52, 54, 99, 54, 48, 54, 101, 98, 48, 48, 49, 51, 50, 102, 51, 50, 49, 52, 52, 97, 97, 54, 56, 53, 54, 99, 48, 48, 54, 52, 54, 48, 49, 97, 54, 48, 52, 55, 32, 116, 101, 115, 116, 105, 110, 103],
        1594801751'i64
      ).id == @[byte(249), 118, 230, 19, 40, 126, 38, 49, 214, 251, 254, 168, 239, 68, 52, 76, 77, 201, 10, 34, 177, 150, 65, 129, 35, 102, 232, 145, 180, 98, 154, 179]
